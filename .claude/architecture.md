# 파이프라인 아키텍처

## 전체 흐름

```
[사용자 질문]
      ↓
[키워드 추출]
      ↓
[청크에서 후보 검색] ← 자막 데이터 (JSON)
      ↓
[Claude: 관련성 판단]
      ↓
   ┌──┴──┐
[관련 있음] [관련 없음]
   ↓         ↓
[답변 생성] [답변 보류]
   ↓         ↓
"하정훈 선생님은..." "관련 콘텐츠를 찾지 못했습니다"
```

## 핵심 원칙

1. **근거 없으면 답변하지 않음**
   - 스크립트에 명시적 언급이 없으면 보류
   - 추측으로 답변 금지

2. **Claude가 직접 관련성 판단**
   - 임베딩 대신 LLM이 맥락 이해
   - 프로젝트 철학에 부합

3. **단일 전문가 관점만 반영**
   - 일반 상식 혼합 금지
   - 하정훈 선생님의 발언만 근거로 사용

## 데이터 흐름

```
YouTube 영상
    ↓ (yt-dlp)
자막 JSON 파일
    ↓ (청크 분할)
검색 가능한 청크
    ↓ (키워드 매칭)
후보 청크들
    ↓ (Claude API)
답변 또는 보류
```
