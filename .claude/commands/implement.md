# /implement - 구현 워크플로우

Task spec을 기반으로 구현을 수행합니다.

## 입력
- Task 설명 또는 spec 파일 경로

## 프로세스

```
┌─────────────────────────────────────────┐
│  1. Spec 확인                           │
│  2. 구현                                │
│  3. 테스트 실행 ←───────────┐           │
│       ↓                     │           │
│  통과? ─── No ─→ 수정 ──────┘ (최대 3회) │
│       ↓                                 │
│      Yes                                │
│       ↓                                 │
│  4. 완료                                │
└─────────────────────────────────────────┘
```

### 상세 단계
1. **Spec 확인** - 없으면 요청, 불완전하면 질문
2. **영향 파일 파악** - 최소 변경 범위 결정
3. **구현** - spec 기준으로 코드 작성
4. **테스트 작성** - 구현과 함께 테스트 추가
5. **검증 루프** (최대 3회):
   - `./gradlew build` 실행
   - 실패 시 → 에러 분석 → 수정 → 재실행
   - 3회 실패 시 → 멈추고 상황 보고

## 코드 원칙
`.claude/docs/code-constitution.md` 준수

구현 시 체크:
- [ ] 최소 단위로 시작했는가? (Rule 5)
- [ ] 상태를 최소화했는가? (Rule 11)
- [ ] 불변 데이터, 파이프라인 설계인가? (Rule 12)
- [ ] 단일 책임인가? (Rule 14)
- [ ] 로깅/관찰 가능한가? (Rule 17)
- [ ] FORBIDDEN DESIGNS 위반 없는가? (Rule 19)

## 규칙
- **구현만 수행** - 리뷰나 리팩토링 하지 않음
- **최소 변경** - 필요한 것만 수정
- **테스트 필수** - 구현과 함께 테스트 추가
- **3회 제한** - 무한 루프 방지

## 완료 조건
- [ ] 빌드 성공
- [ ] 테스트 통과
- [ ] Spec의 Success Criteria 충족

## 실패 시 보고 형식
```markdown
## Implementation Failed

### Spec
- 파일: {spec 경로}

### 시도 횟수: 3/3

### 마지막 에러
{에러 메시지}

### 시도한 수정
1. {첫 번째 시도}
2. {두 번째 시도}
3. {세 번째 시도}

### 도움 필요
- {구체적인 질문 또는 요청}
```

## 사용 예시
```
/implement 자막 파싱 함수 추가
/implement .claude/features/subtitle-collector/spec.md
```
