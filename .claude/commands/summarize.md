# /summarize - 유튜브 비디오 요약

유튜브 영상의 자막 데이터를 분석하여 구조화된 요약을 생성합니다.

## 입력
- YouTube 영상 ID 또는 자막 JSON 파일 경로

## 프로세스

```
┌─────────────────────────────────────────┐
│  1. 자막 파일 확인 (없으면 자동 수집)   │
│  2. 전처리 (노이즈 제거, 품질 평가)     │
│  3. 주제 분석 및 핵심 내용 추출         │
│  4. 구조화된 요약 생성                  │
│  5. 결과 파일 저장                      │
└─────────────────────────────────────────┘
```

## 자동 실행 규칙

### 자막 자동 수집
`output/subtitles/{videoId}.json` 파일이 없으면 **묻지 않고** 바로 수집:
```bash
yt-dlp --write-auto-sub --write-sub --sub-lang ko --sub-format json3 --skip-download -o "output/subtitles/{videoId}" "https://www.youtube.com/watch?v={videoId}"
```

### 결과 자동 저장
- 분석 결과를 사용자에게 출력하지 않음
- `output/summaries/{videoId}.md` 파일로 저장
- 완료 후 간단한 메시지만 출력: "완료: output/summaries/{videoId}.md"

## 규칙
- **원문 충실성** - 자막에 명시된 내용만 요약
- **추측 금지** - 일반 상식이나 다른 정보 추가 금지
- **정직한 한계 인정** - 자막 품질 문제 시 명시

## 출력 형식
```markdown
# 영상 요약

## 메타정보
- **영상 ID**: {videoId}
- **제목**: {title}
- **채널**: {channelName}
- **요약 생성일**: {현재 날짜}

## 주제
{영상의 핵심 주제 1-2문장}

## 핵심 내용

### 1. 주요 권장사항
- {권장사항 1}
- {권장사항 2}

### 2. 핵심 근거/이유
- {근거 1}
- {근거 2}

### 3. 예외 상황/주의점
- {예외 1}

### 4. 반복 강조 메시지
> "{반복적으로 강조된 핵심 문구}"

## 검색 키워드
`키워드1`, `키워드2`, `키워드3`

## 자막 품질 노트
- **품질**: {좋음/보통/낮음}
- **비고**: {음성 인식 오류 추정 부분 등}
```

## 사용 예시
```
/summarize abc123
/summarize output/subtitles/abc123.json
```
